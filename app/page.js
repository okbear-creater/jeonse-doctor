'use client';

import React, { useState, useEffect, useCallback } from 'react';
import ReactMarkdown from 'react-markdown';
import styles from './page.module.css';

// Ï†ÑÏÜ° ÏïÑÏù¥ÏΩò SVG Ïª¥Ìè¨ÎÑåÌä∏
const SendIcon = ({ className }) => (
  <svg
    className={className}
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
  >
    <line x1="22" y1="2" x2="11" y2="13"></line>
    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
  </svg>
);

export default function Home() {
  const [messages, setMessages] = useState([]);
  const [input, setInput] = useState('');
  const [isGreetingShown, setIsGreetingShown] = useState(false);
  const [file, setFile] = useState(null);
  const [preview, setPreview] = useState(null);
  const [isLoading, setIsLoading] = useState(false);
  const [showExamples, setShowExamples] = useState(true);
  const [currentTypingMessage, setCurrentTypingMessage] = useState('');
  const [loadingDots, setLoadingDots] = useState('');
  const typingSpeed = 5; // ÌÉÄÏù¥Ìïë ÏÜçÎèÑ (Î∞ÄÎ¶¨Ï¥à)

  const examplePrompts = [
    "Î∂ÄÎèôÏÇ∞Ïù¥ Í≤ΩÎß§Ïóê ÎÑòÏñ¥Í∞ÄÎ©¥ Î≥¥Ï¶ùÍ∏àÏùÑ Ïñ¥ÎñªÍ≤å Î∞õÏùÑ Ïàò ÏûàÎÇòÏöî?",
    "Í∑ºÏ†ÄÎãπÏù¥ ÏÑ§Ï†ïÎêú ÏßëÏóêÏÑúÎäî Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Î∞õÍ∏∞ Ïñ¥Î†§Ïö∏ Ïàò ÏûàÎäî Ïù¥Ïú†Îäî Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
    "Ï†ÑÏûÖÏã†Í≥†Î•º ÌïòÎ©¥ Î≥¥Ï¶ùÍ∏àÏóê Ïñ¥Îñ§ Î≤ïÏ†Å Î≥¥Ìò∏Î•º Î∞õÍ≤å ÎêòÎÇòÏöî?",
    "Ïö∞ÏÑ† Î≥ÄÏ†úÍ∂åÏù¥ÎûÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
    "Ï†ÑÏÑ∏Í∂å ÏÑ§Ï†ïÏùò Ìö®Î†•ÏùÄ Ïñ∏Ï†úÎ∂ÄÌÑ∞ Î∞úÏÉùÌïòÎÇòÏöî?",
    "Ï†ÑÏÑ∏ Î≥¥Ï¶ù Î≥¥ÌóòÏùÄ Ïñ¥Îñ§ ÏÉÅÌô©ÏóêÏÑú Î≥¥Ï¶ùÍ∏àÏùÑ Î≥¥Ìò∏Ìï¥Ï£ºÎÇòÏöî?",
  ];

  const basicTopics = [
    "Ï†ÑÏÑ∏Í≥ÑÏïΩÏùò Ï†àÏ∞®ÏôÄ Ï£ºÏùòÏÇ¨Ìï≠ÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
    "Ï†ÑÏÑ∏ÏÇ¨Í∏∞ Ïú†ÌòïÎ≥Ñ Ï†ïÏùòÎäî Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
    "Ï†ÑÏÑ∏ÏÇ¨Í∏∞ Ïú†ÌòïÎ≥Ñ ÏòàÎ∞©Î≤ïÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
  ];

  const predefinedAnswers = {
    "Ï†ÑÏÑ∏Í≥ÑÏïΩÏùò Ï†àÏ∞®ÏôÄ Ï£ºÏùòÏÇ¨Ìï≠ÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?": `
1. Î¨∏Ïùò Î∞è Ïßë Íµ¨Í≤Ω  
Î∂ÄÎèôÏÇ∞ Î¨∏Ïùò ÌõÑ ÏõêÌïòÎäî ÏßëÏùÑ ÏßÅÏ†ë Î∞©Î¨∏ÌïòÏó¨ Ïú†ÏÇ¨Îß§Î¨ºÍ≥º ÎπÑÍµê Î∞è Í≤ÄÌÜ†Ìï©ÎãàÎã§. ÏúÑÏπò, Ïßë Íµ¨Ï°∞, Ï°∞Í±¥ Îì±ÏùÑ ÍººÍººÌûà ÏÇ¥Ìé¥Î≥¥Î©∞ Îß§Îß§ ÏãúÏÑ∏Î•º ÌôïÏù∏Ìï©ÎãàÎã§.

2. Î∞© ÏÑ†ÌÉù  
ÏÑ†ÌÉùÌïú ÏßëÏùò ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÍ≥†, ÏßëÏ£ºÏù∏ ÎòêÎäî Î∂ÄÎèôÏÇ∞ Ï§ëÍ∞úÏù∏Í≥º ÌòëÏùòÌïòÏó¨ ÏûÑÎåÄ Ï°∞Í±¥ÏùÑ ÌôïÏ†ïÌï©ÎãàÎã§. Ïù¥ Îã®Í≥ÑÏóêÏÑú Ï†ÑÏûÖÏã†Í≥† Í∞ÄÎä• Ïó¨Î∂ÄÎ•º ÌôïÏù∏Ìï©ÎãàÎã§.

3. Í∞ÄÍ≥ÑÏïΩ  
Í±∞Ï£ºÏù∏Ïõê, Ìù°Ïó∞ Ïó¨Î∂ÄÎì±ÏùÑ ÏÇ¨Ï†Ñ Í≥†ÏßÄÌïòÍ≥†, Í≥ÑÏïΩÍ∏à ÏùºÎ∂ÄÎ•º ÏÜ°Í∏àÌïòÏó¨ Í∞ÄÍ≥ÑÏïΩÏùÑ Ï≤¥Í≤∞Ìï©ÎãàÎã§. Ïù¥ Í≥ºÏ†ïÏóêÏÑú ÏÑ†ÏàúÏúÑ Í∂åÎ¶¨, ÏûÑÎåÄÏù∏ Ïã†Î∂ÑÏ¶ù ÌôïÏù∏, Î≥∏Í≥ÑÏïΩÏùº, ÏûîÍ∏àÏùº ÏÉÅÌÉú ÌôïÏù∏ Îì±Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.

4. Î≥∏Í≥ÑÏïΩ  
Í∞ÄÍ≥ÑÏïΩÏóêÏÑú ÌôïÏù∏Ìïú Î™®Îì† ÏÇ¨Ìï≠ÏùÑ Îã§Ïãú Ìïú Î≤à Ï†êÍ≤ÄÌïòÍ≥†, Í≥ÑÏïΩÏÑúÎ•º ÏûëÏÑ±Ìï©ÎãàÎã§. ÏÑ∏Î∂Ä ÌäπÏïΩÏÇ¨Ìï≠Îì±Ïùò Ï°∞Í±¥ÏùÑ ÌòëÏùòÌïòÍ≥†, ÏûîÏó¨ Í≥ÑÏïΩÍ∏à ÏßÄÍ∏â Î∞è Í≥ÑÏïΩÍ∏à ÏòÅÏàòÏ¶ùÏùÑ Ï∂úÎ†•Ìï©ÎãàÎã§.

5. ÏûîÍ∏à  
ÏûîÍ∏à Ï†Ñ Ï†ÑÏÑ∏ÎåÄÏ∂ú Í∞ÄÎä• Ïó¨Î∂Ä/ÏùÄÌñâÏóê ÎåÄÏ∂ú Ïã§Ìñâ ÏãúÍ∞Ñ / ÏÑ†ÏàúÏúÑÍ∂åÎ¶¨Î•º ÌôïÏù∏Ìï©ÎãàÎã§. ÏûîÍ∏à ÏÜ°Í∏à Î∞è Ï§ëÍ∞úÏàòÏàòÎ£åÎ•º ÎÇ©ÏûÖÌïòÍ≥†, ÎπÑÌíà ÏàòÎ†π Î∞è Í¥ÄÎ¶¨ÎπÑ, Í∞ÄÏä§Ï†ïÏÇ∞ÏùÑ Ïã§ÏãúÌï©ÎãàÎã§. ÏûîÍ∏à ÏßÄÍ∏âÏù¥ ÏôÑÎ£åÎêòÎ©¥ Ï†ÑÏûÖÏã†Í≥†Î•º Ìï† Ïàò ÏûàÏúºÎ©∞, Î∂ÄÎèôÏÇ∞ Í±∞Îûò Ïã†Í≥†Î•º ÎßàÎ¨¥Î¶¨Ìï©ÎãàÎã§. 

6. ÏûÖÏ£º  
Ï†ÑÏûÖÏã†Í≥†ÏôÄ Ìï®Íªò ÏûÖÏ£ºÍ∞Ä Ïù¥Î£®Ïñ¥ÏßëÎãàÎã§. (Ïù¥Îïå, ÌôïÏ†ïÏùºÏûêÎ•º Î∞õÏïÑÎëêÎäî Í≤ÉÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.) Î∂ÄÎèôÏÇ∞ Í±∞Îûò Ïã†Í≥†Î•º ÏßÑÌñâÌï©ÎãàÎã§.

Ìï¥Îãπ Í∞ÄÏù¥ÎìúÎùºÏù∏ÏùÑ Ï∞∏Í≥†ÌïòÏó¨ Ï†ÑÏÑ∏Í≥ÑÏïΩ Ï†àÏ∞®Î•º ÏïàÏ†ÑÌïòÍ≤å ÏßÑÌñâÌï† Ïàò ÏûàÎèÑÎ°ù Ï§ÄÎπÑÌïòÏÑ∏Ïöî. Î¨¥ÏóáÎ≥¥Îã§ Í≥ÑÏïΩÏÑú ÏûëÏÑ± Ïãú Î™®Îì† Ï°∞Í±¥ÏùÑ Î™ÖÌôïÌûà Ïù¥Ìï¥ÌïòÍ≥†, Îß§Î¨ºÏùò Í∂åÎ¶¨ ÏÉÅÌÉúÏôÄ ÏûÑÎåÄÏù∏Ïùò Ïã†Î∂ÑÏùÑ Ï≤†Ï†ÄÌûà ÌôïÏù∏ÌïòÎäî Í≤ÉÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.
`,
    "Ï†ÑÏÑ∏ÏÇ¨Í∏∞ Ïú†ÌòïÎ≥Ñ Ï†ïÏùòÎäî Î¨¥ÏóáÏù∏Í∞ÄÏöî?": `
1. Íπ°ÌÜµÏ†ÑÏÑ∏  
   - Ï†ïÏùò: Ïã§Ï†ú ÏãúÏÑ∏Î≥¥Îã§ ÎÜíÏùÄ Í∞ÄÍ≤©ÏúºÎ°ú ÏãúÏÑ∏Î•º Í∏∞Ïû¨ÌïòÍ≥†, Ïù¥Ïóê ÎßûÏ∂îÏñ¥ Î≥¥Ï¶ùÍ∏àÏùÑ ÏöîÍµ¨ÌïòÎäî Ï†ÑÏÑ∏ÏÇ¨Í∏∞ Ïú†ÌòïÏûÖÎãàÎã§. Î∂ÄÎèôÏÇ∞ ÏãúÏÑ∏Í∞Ä ÌïòÎùΩÌï† Í≤ΩÏö∞, Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Î∞õÏßÄ Î™ªÌïòÍ≤å ÎêòÎäî Í≤ΩÏö∞Í∞Ä ÎßéÏäµÎãàÎã§. Ïù¥Îäî Î≥¥Ï¶ùÍ∏àÏùÑ ÌôúÏö©Ìï¥ Îã§Î•∏ Î∂ÄÎèôÏÇ∞ÏùÑ Îß§ÏàòÌïòÍ≥†, Îã§Ïãú Ï†ÑÏÑ∏Î•º ÏÑ§Ï†ïÌïòÎäî Î∞©ÏãùÏúºÎ°ú ÏßÑÌñâÎêòÎ©∞, Í≤∞Íµ≠ ÏÑ∏ÏûÖÏûêÎäî Î≥¥Ï¶ùÍ∏àÏùÑ ÌöåÏàòÌïòÏßÄ Î™ªÌï† ÏúÑÌóòÏóê Ï≤òÌï©ÎãàÎã§.

2. Ïù¥Ï§ë Í≥ÑÏïΩ / Ï§ëÎ≥µ Í≥ÑÏïΩ  
   - Ï†ïÏùò:  
     - Ïù¥Ï§ë Í≥ÑÏïΩ: ÏßëÏ£ºÏù∏Ïù¥ ÎåÄÎ¶¨Ïù∏ÏóêÍ≤å ÏõîÏÑ∏ Í≥ÑÏïΩÏùÑ ÏúÑÏûÑÌïòÏòÄÏúºÎÇò, ÎåÄÎ¶¨Ïù∏Ïù¥ Ïù¥Î•º ÏïÖÏö©ÌïòÏó¨ ÏõîÏÑ∏ Í≥ÑÏïΩ ÎåÄÏã† Ï†ÑÏÑ∏ Í≥ÑÏïΩÏùÑ Ï≤¥Í≤∞ÌïòÍ≥† Í∏àÏï°ÏùÑ Ï∞©Î≥µÌïòÎäî Ïú†ÌòïÏûÖÎãàÎã§. ÎåÄÎ¶¨Ïù∏ÏùÄ Í¥ÄÎ¶¨ Í≥ÑÏïΩÏùÑ Îß∫Í≥† ÏûàÏúºÎØÄÎ°ú ÏßëÏ£ºÏù∏Ïùò ÎèôÏùò ÏóÜÏù¥ÎèÑ ÏûÑÎåÄÏ∞® Í≥ÑÏïΩÏùÑ Ï≤¥Í≤∞Ìï† Ïàò ÏûàÏúºÎ©∞, Ïù¥ÌõÑ ÎèàÏùÑ Ï±ôÍ∏∞Í≥† Ïû†Ï†ÅÌïòÎäî Í≤ΩÏö∞Í∞Ä Î∞úÏÉùÌï©ÎãàÎã§.
     - Ï§ëÎ≥µ Í≥ÑÏïΩ: ÎèôÏùºÌïú Î∂ÄÎèôÏÇ∞ÏùÑ Ïó¨Îü¨ ÏÑ∏ÏûÖÏûêÏôÄ Ï§ëÎ≥µÏúºÎ°ú Í≥ÑÏïΩÏùÑ Ï≤¥Í≤∞ÌïòÎäî ÏÇ¨Í∏∞ Ïú†ÌòïÏúºÎ°ú, Í∞Å ÏÑ∏ÏûÖÏûêÎäî ÏûêÏã†Ïù¥ Ïú†ÏùºÌïú Í≥ÑÏïΩÏûêÎùºÍ≥† ÎØøÍ≤å Îê©ÎãàÎã§. Í∑∏Îü¨ÎÇò Ïã§Ï†úÎ°úÎäî Î≥µÏàòÏùò ÏÑ∏ÏûÖÏûêÎì§Ïù¥ ÎèôÏùºÌïú Î∂ÄÎèôÏÇ∞Ïóê ÎåÄÌïú Í∂åÎ¶¨Î•º Ï£ºÏû•ÌïòÍ≤å ÎêòÏñ¥ ÌîºÌï¥Í∞Ä Î∞úÏÉùÌï©ÎãàÎã§.

3. Î∂àÎ≤ï Í±¥Ï∂ïÎ¨º ÏÇ¨Í∏∞  
   - Ï†ïÏùò: Ï£ºÍ±∞Ïö©ÏúºÎ°ú ÌóàÍ∞ÄÎ∞õÏßÄ ÏïäÏùÄ Í±¥Ï∂ïÎ¨ºÏùÑ Ï†ÑÏÑ∏ Ï£ºÌÉùÏúºÎ°ú ÏÜçÏó¨ Í≥ÑÏïΩÌïòÎäî ÏÇ¨Í∏∞ Ïú†ÌòïÏûÖÎãàÎã§. ÏòàÎ•º Îì§Ïñ¥, Í≥†ÏãúÏõê Í∞ôÏùÄ Í∑ºÎ¶∞ÏÉùÌôúÏãúÏÑ§ Îì±ÏùÑ ÏõêÎ£∏Ïù¥Îùº ÏÜçÏó¨ Í≥ÑÏïΩ Ïãú, Ïö©ÎèÑ Î≥ÄÍ≤Ω ÏÇ¨Ïã§Ïù¥ Î∞úÍ∞ÅÎêòÎ©¥ ÏÑ∏ÏûÖÏûêÎäî Ìá¥Í±∞ Î™ÖÎ†πÏù¥ÎÇò Ï≤†Í±∞Ïóê ÏßÅÎ©¥ÌïòÍ≤å Îê©ÎãàÎã§. Ïù¥ Í≤ΩÏö∞ Ï†ÑÏÑ∏ ÏÇ¨Í∏∞ ÌîºÌï¥ÏûêÎ°úÎèÑ Ïù∏Ï†ïÎ∞õÍ∏∞ Ïñ¥Î†§ÏõåÏßÄÎ©∞ Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Î∞õÏßÄ Î™ªÌï† Í∞ÄÎä•ÏÑ±Ïù¥ Ïª§ÏßëÎãàÎã§. Ïù¥Î•º Î∞©ÏßÄÌïòÍ∏∞ ÏúÑÌï¥ÏÑúÎäî Ï†ïÎ∂Ä24ÏóêÏÑú Í±¥Ï∂ïÎ¨º ÎåÄÏû•ÏùÑ ÌôïÏù∏ÌïòÎäî Í≤ÉÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.

4. Í∞≠Ìà¨Ïûê ÏÇ¨Í∏∞  
   - Ï†ïÏùò: Ï†ÑÏÑ∏ ÏÑ∏ÏûÖÏûêÎ•º Î®ºÏ†Ä Íµ¨ÌïòÍ≥† Î∞õÏùÄ Ï†ÑÏÑ∏ Î≥¥Ï¶ùÍ∏àÏùÑ Í∏∞Î∞òÏúºÎ°ú Î∂ÄÎèôÏÇ∞ÏùÑ Îß§ÏûÖÌïú ÌõÑ, Í∞ÄÍ≤© ÏÉÅÏäπÏùÑ Í∏∞ÎåÄÌïòÎäî Ìà¨Ïûê Î∞©ÏãùÏûÖÎãàÎã§. ÎßåÏïΩ Î∂ÄÎèôÏÇ∞ Í∞ÄÍ≤©Ïù¥ ÌïòÎùΩÌï† Í≤ΩÏö∞, ÏßëÏ£ºÏù∏ÏùÄ ÏÑ∏ÏûÖÏûêÏóêÍ≤å Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Ï§Ñ Ïàò ÏóÜÏúºÎ©∞, Î∂ÄÎèôÏÇ∞Ïù¥ Í≤ΩÎß§Î°ú ÎÑòÏñ¥Í∞ÄÍ≤å Îê©ÎãàÎã§. Í≤ΩÎß§ ÎÇôÏ∞∞Í∞ÄÍ∞Ä Îñ®Ïñ¥ÏßÄÎ©¥ Í∑ºÏ†ÄÎãπÏù¥ ÏÑ∏ÏûÖÏûêÎ≥¥Îã§ Ïö∞ÏÑ†ÌïòÍ≤å ÎêòÏñ¥ ÏÑ∏ÏûÖÏûêÎäî ÏÜêÌï¥Î•º Î≥¥Í≤å Îê©ÎãàÎã§.

5. Ïã†ÌÉÅ ÏÇ¨Í∏∞  
   - Ï†ïÏùò: Í±¥Î¨ºÏ£ºÍ∞Ä Í±¥Ï∂ï ÏûêÍ∏àÏùÑ ÎßàÎ†®ÌïòÍ∏∞ ÏúÑÌï¥ Ïã†ÌÉÅÌöåÏÇ¨Ïóê ÏÜåÏú†Í∂åÏùÑ ÎÑòÍ∏∞Í≥†, Ïù¥Î•º ÌÜµÌï¥ ÏùÄÌñâÏóêÏÑú ÎåÄÏ∂úÏùÑ Î∞õÎäî Î∞©ÏãùÏûÖÎãàÎã§. Ïã†ÌÉÅÏõêÎ∂ÄÏóê Îî∞Î•¥Î©¥, Í±¥Î¨ºÏ£ºÎäî Ïã†ÌÉÅÌöåÏÇ¨Ïùò ÎèôÏùò ÏóÜÏù¥Îäî ÏûÑÎåÄÎÇò Îß§Îß§Î•º Ìï† Ïàò ÏóÜÏäµÎãàÎã§. Í∑∏Îü¨ÎÇò Í±¥Î¨ºÏ£ºÍ∞Ä Ïã†ÌÉÅÌöåÏÇ¨Ïùò ÎèôÏùò ÏóÜÏù¥ ÏÑ∏ÏûÖÏûêÏôÄ ÏûÑÎåÄ Í≥ÑÏïΩÏùÑ Ï≤¥Í≤∞ÌïòÍ≥† Î≥¥Ï¶ùÍ∏àÏùÑ ÏàòÎ†πÌïú Îí§ Ïû†Ï†ÅÌïòÎäî ÏÇ¨Í∏∞ Ïú†ÌòïÏûÖÎãàÎã§. Ïù¥ Í≤ΩÏö∞, ÏÑ∏ÏûÖÏûêÎäî ÏûÑÎåÄÏ∞®Î≥¥Ìò∏Î≤ïÏùò Î≥¥Ìò∏Î•º Î∞õÏßÄ Î™ªÌïòÍ≤å Îê©ÎãàÎã§.

6. ÎåÄÌï≠Î†•Ìö®Î†•Î∞úÏÉùÏãúÏ†ê ÏïÖÏö© ÏÇ¨Í∏∞  
   - Ï†ïÏùò: Ï†ÑÏûÖÏã†Í≥† ÌõÑ ÎåÄÌï≠Î†•Í≥º Ïö∞ÏÑ†Î≥ÄÏ†úÍ∂åÏù¥ Î∞úÏÉùÌïòÍ∏∞ Ï†ÑÏùò ÏãúÏ†êÏùÑ ÏïÖÏö©Ìïú ÏÇ¨Í∏∞ Ïú†ÌòïÏûÖÎãàÎã§. ÏÑ∏ÏûÖÏûêÍ∞Ä Ï†ÑÏûÖÏã†Í≥†Î•º ÎßàÏπòÍ≥† ÌôïÏ†ïÏùºÏûêÎ•º Î∞õÍ∏∞ Ï†ÑÍπåÏßÄÎäî Î¨¥Î∞©ÎπÑ ÏÉÅÌÉúÏóê ÎÜìÏù¥Í≤å ÎêòÎäîÎç∞, ÏßëÏ£ºÏù∏ÏùÄ Ïù¥ ÌãàÏùÑ Ïù¥Ïö©Ìï¥ Í≥ÑÏïΩ ÎãπÏùº ÎåÄÏ∂úÏùÑ Î∞õÏïÑ Í∑ºÏ†ÄÎãπÏùÑ ÏÑ§Ï†ïÌïòÍ≥† Ïû†Ï†ÅÌï©ÎãàÎã§. Ïù¥Î°ú Ïù∏Ìï¥ ÏÑ∏ÏûÖÏûêÎäî ÏùÄÌñâÎ≥¥Îã§ ÌõÑÏàúÏúÑÎ°ú Î∞ÄÎ†§ Î≥¥Ï¶ùÍ∏àÏùÑ ÌöåÏàòÌïòÏßÄ Î™ªÌïòÍ≤å Îê©ÎãàÎã§. Ïù¥Î•º Î∞©ÏßÄÌïòÍ∏∞ ÏúÑÌï¥ Í≥ÑÏïΩ ÌõÑ ÏûîÍ∏à ÏßÄÍ∏â Îã§ÏùåÎÇ†ÍπåÏßÄ Í∑ºÏ†ÄÎãπ ÏÑ§Ï†ï Í∏àÏßÄÎ•º Î™ÖÏãúÌïòÍ±∞ÎÇò, Ï†ÑÏÑ∏Í∂åÏùÑ ÏÑ§Ï†ïÌïòÎäî Í≤ÉÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.
`,
    "Ï†ÑÏÑ∏ÏÇ¨Í∏∞ Ïú†ÌòïÎ≥Ñ ÏòàÎ∞©Î≤ïÏùÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?": `
**1. Íπ°ÌÜµÏ†ÑÏÑ∏**  
ÏòàÎ∞©Î≤ï: ÌèâÍ∑† Ï†ÑÏÑ∏Í∞ÄÏú®ÏùÑ ÌôïÏù∏ÌïòÏó¨ Ï†ÑÏÑ∏Í∞ÄÍ∞Ä Ï†ÅÏ†ïÌïúÏßÄ Í≤ÄÌÜ†Ìï©ÎãàÎã§. Ïù¥Î•º ÌÜµÌï¥ ÏßÄÎÇòÏπòÍ≤å ÎÜíÏùÄ Ï†ÑÏÑ∏Í∞ÄÏú®Î°ú Ïù∏Ìïú ÏúÑÌóòÏùÑ Ï§ÑÏùº Ïàò ÏûàÏäµÎãàÎã§.

**2. Ïù¥Ï§ëÍ≥ÑÏïΩ**  
ÏòàÎ∞©Î≤ï: ÏûÑÎåÄÏ∞® Í≥ÑÏïΩÏùÑ Î∞òÎìúÏãú ÏßëÏ£ºÏù∏Í≥º ÏßÅÏ†ë Ï≤¥Í≤∞ÌïòÍ≥†, Îì±Í∏∞Î∂ÄÎì±Î≥∏ÏùÑ Ïó¥ÎûåÌïòÏó¨ ÏÜåÏú†Ï£ºÎ•º ÌôïÏù∏Ìï©ÎãàÎã§. Ïù¥Î•º ÌÜµÌï¥ Ïù¥Ï§ëÍ≥ÑÏïΩÏúºÎ°ú Ïù∏Ìïú ÌîºÌï¥Î•º ÏòàÎ∞©Ìï† Ïàò ÏûàÏäµÎãàÎã§.

**3. Î∂àÎ≤ï Í±¥Ï∂ïÎ¨º ÏÇ¨Í∏∞**  
ÏòàÎ∞©Î≤ï: Ï†ïÎ∂Ä24 ÏÇ¨Ïù¥Ìä∏ÏóêÏÑú Í±¥Ï∂ïÎ¨º ÎåÄÏû•ÏùÑ ÌôïÏù∏ÌïòÏó¨ Í±¥Ï∂ïÎ¨ºÏùò Ìï©Î≤ïÏÑ±ÏùÑ Í≤ÄÌÜ†Ìï©ÎãàÎã§. Î∂àÎ≤ï Í±¥Ï∂ïÎ¨º Ïó¨Î∂ÄÎ•º ÌôïÏù∏Ìï®ÏúºÎ°úÏç® ÏïàÏ†ÑÌïú Í≥ÑÏïΩÏùÑ Ï≤¥Í≤∞Ìï† Ïàò ÏûàÏäµÎãàÎã§.

**4. Í∞≠Ìà¨Ïûê ÏÇ¨Í∏∞**  
ÏòàÎ∞©Î≤ï: Ï†ÑÏÑ∏Î≥¥Ï¶ùÍ∏à Î∞òÌôòÎ≥¥Ï¶ùÏùÑ Í∞ÄÏûÖÌïòÍ≥† Ï†ÑÏÑ∏Í∂å ÏÑ§Ï†ïÏùÑ ÏßÑÌñâÌï©ÎãàÎã§. ÎòêÌïú, Î∂ÄÎèôÏÇ∞ ÏãúÏÑ∏Ïùò 75%ÏóêÏÑú Í∑ºÏ†ÄÎãπÏï°Í≥º Ï†ÑÏÑ∏Í∏àÏùÑ Î∫Ä Í∞íÏù¥ 0 Ïù¥ÏÉÅÏù∏ÏßÄ ÌôïÏù∏Ìï¥Ïïº Ìï©ÎãàÎã§.

**5. Ïã†ÌÉÅÏÇ¨Í∏∞**  
ÏòàÎ∞©Î≤ï: Îì±Í∏∞Î∂ÄÎì±Î≥∏Ïùò Í∞ëÍµ¨Ïóê Ïã†ÌÉÅ Îì±Í∏∞Í∞Ä Í∏∞Ïû¨ÎêòÏñ¥ ÏûàÎã§Î©¥, Îì±Í∏∞ÏÜåÏóê Î∞©Î¨∏ÌïòÏó¨ Ïã†ÌÉÅÏõêÎ∂ÄÎ•º ÌôïÏù∏Ìï¥Ïïº Ìï©ÎãàÎã§. Í∑∏ ÌõÑ ÎåÄÍ∏àÏßÄÍ∏âÏûêÏùò ÌôïÏù∏Í≥º ÎèôÏùòÎ•º Î∞õÏïòÎã§Î©¥ Í±∞ÎûòÎ•º ÏßÑÌñâÌï©ÎãàÎã§.

**6. ÎåÄÌï≠Î†• Ìö®Î†• Î∞úÏÉù ÏãúÏ†ê ÏïÖÏö© ÏÇ¨Í∏∞**  
ÏòàÎ∞©Î≤ï: Í≥ÑÏïΩ ÌõÑ Ï†ÑÏûÖÏã†Í≥† Ï†àÏ∞®Î•º ÏßÑÌñâÌïòÎäî ÎèôÏïà, ÎåÄÌï≠Î†•Ïù¥ Î∞úÏÉùÌïòÎäî ÏãúÏ†ê Ïù¥Ï†ÑÏóê Í∑ºÏ†ÄÎãπ ÏÑ§Ï†ïÏù¥ Ïù¥Î£®Ïñ¥ÏßÄÏßÄ ÏïäÎèÑÎ°ù Ï£ºÏùòÌï¥Ïïº Ìï©ÎãàÎã§. Ï†ÑÏÑ∏Í≥ÑÏïΩÏÑúÏóê ‚ÄúÎåÄÌï≠Î†• Î∞úÏÉùÏãúÏ†êÎ≥¥Îã§ Ïù¥Î•∏ ÏãúÏ†êÏóê Í∂åÎ¶¨ ÏÇ¨Ìï≠Ïù¥ Ï∂îÍ∞ÄÎê† Í≤ΩÏö∞ Ìï¥Îãπ Í≥ÑÏïΩÏùÑ Î¨¥Ìö®Î°ú ÌïúÎã§‚ÄùÎäî Ï°∞Í±¥ÏùÑ Ï∂îÍ∞ÄÌïòÏó¨ Î≥¥Ìò∏Î∞õÏùÑ Ïàò ÏûàÎèÑÎ°ù Ìï©ÎãàÎã§.
`,
    "Î∂ÄÎèôÏÇ∞Ïù¥ Í≤ΩÎß§Ïóê ÎÑòÏñ¥Í∞ÄÎ©¥ Î≥¥Ï¶ùÍ∏àÏùÑ Ïñ¥ÎñªÍ≤å Î∞õÏùÑ Ïàò ÏûàÎÇòÏöî?": `
ÎßåÏïΩ ÏßëÏ£ºÏù∏Ïù¥ ÌååÏÇ∞ Îì± Î™®Ï¢ÖÏùò Ïù¥Ïú†Î°ú Ï†ÑÏÑ∏ Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Ï£ºÏßÄ Î™ªÌïòÍ≤å ÎêòÎ©¥, Ìï¥Îãπ Î∂ÄÎèôÏÇ∞ÏùÄ Í≤ΩÎß§Ïóê ÎÑòÏñ¥Í∞à Ïàò ÏûàÏäµÎãàÎã§. Í≤ΩÎß§Ïóê ÎÑòÏñ¥Í∞Ñ Î∂ÄÎèôÏÇ∞Ïù¥ Ï†ú3ÏûêÏóêÍ≤å ÎÇôÏ∞∞ÎêúÎã§Î©¥, Ìï¥Îãπ Î∂ÄÎèôÏÇ∞ÏùÑ Íµ¨Îß§Ìïú Ï†ú3ÏûêÏóêÍ≤å Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Î∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§.

Í≤ΩÎß§Ïóê ÎÑòÏñ¥Í∞Ñ Î∂ÄÎèôÏÇ∞Ïù¥ Ï†ú3ÏûêÏóêÍ≤å ÎÇôÏ∞∞ÎêòÏßÄ ÏïäÎäîÎã§Î©¥, Í≤ΩÎß§Îäî Ïú†Ï∞∞Îê©ÎãàÎã§. Í≤ΩÎß§Í∞Ä Ìïú Î≤à Ïú†Ï∞∞Îê† ÎïåÎßàÎã§ ÏµúÏ†Ä ÏûÖÏ∞∞Í∞ÄÎäî 20~30% Ï†ïÎèÑ ÌïòÎùΩÌïòÍ≤å Îê©ÎãàÎã§. Îî∞ÎùºÏÑú, Ï†ÑÏÑ∏ Í≥ÑÏïΩÏùÑ Îß∫ÏùÑ ÎïåÎäî (Îß§Îß§Í∞Ä) x 70% > (Ï†ÑÏÑ∏Î≥¥Ï¶ùÍ∏à)Ïù∏ ÏßëÏùÑ Ï∞æÏïÑÏïº Ìï©ÎãàÎã§.
`,
    "Í∑ºÏ†ÄÎãπÏù¥ ÏÑ§Ï†ïÎêú ÏßëÏóêÏÑúÎäî Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Î∞õÍ∏∞ Ïñ¥Î†§Ïö∏ Ïàò ÏûàÎäî Ïù¥Ïú†Îäî Î¨¥ÏóáÏù∏Í∞ÄÏöî?": `
ÏßëÏ£ºÏù∏Ïù¥ Î∂ÄÎèôÏÇ∞ÏùÑ Îß§ÏûÖÌï† ÎãπÏãú, ÎòêÎäî Í∑∏Î≥¥Îã§ Ïù¥Ï†Ñ ÏãúÏ†êÏóê ÏùÄÌñâÏúºÎ°úÎ∂ÄÌÑ∞ ÎåÄÏ∂úÏùÑ Î∞õÍ≤å ÎêòÎ©¥, Ìï¥Îãπ Î∂ÄÎèôÏÇ∞Ïóê ÎåÄÌï¥ Í∑ºÏ†ÄÎãπÏù¥ ÏÑ§Ï†ïÎê©ÎãàÎã§. Ïù¥Îäî ÏùÄÌñâÏù¥ ÎåÄÏ∂úÍ∏àÏùÑ Îã¥Î≥¥ÌïòÍ∏∞ ÏúÑÌï¥ Î∂ÄÎèôÏÇ∞Ïóê Í∂åÎ¶¨Î•º ÏÑ§Ï†ïÌïòÎäî Í≤ÉÏúºÎ°ú, Í∑ºÏ†ÄÎãπ ÏÑ§Ï†ïÏùò ÏãúÏ†êÏù¥ ÏûÑÏ∞®Ïù∏Í≥ºÏùò Í≥ÑÏïΩ Ï≤¥Í≤∞Î≥¥Îã§ ÏïûÏÑúÍ≤å ÎêòÎ©¥, ÏûÑÏ∞®Ïù∏Ïùò Î≥ÄÏ†úÍ∂åÎ≥¥Îã§ ÏùÄÌñâÏùò Í∂åÎ¶¨Í∞Ä Ïö∞ÏÑ†Îê©ÎãàÎã§.

Îî∞ÎùºÏÑú, Í∑ºÏ†ÄÎãπÏù¥ ÏÑ§Ï†ïÎêú Í≤ΩÏö∞ ÏûÑÏ∞®Ïù∏ÏùÄ Î≥¥Ï¶ùÍ∏àÏùÑ Ïò®Ï†ÑÌûà ÎèåÎ†§Î∞õÏßÄ Î™ªÌï† ÏúÑÌóòÏù¥ ÏûàÏäµÎãàÎã§. Ïù¥Îü¨Ìïú Î¶¨Ïä§ÌÅ¨Î•º Ï§ÑÏù¥Í∏∞ ÏúÑÌï¥, Í∑ºÏ†ÄÎãπÏù¥ ÏûàÎäî Îß§Î¨ºÏùò Ï†ÑÏÑ∏ Í≥ÑÏïΩÏùÑ Ï≤¥Í≤∞Ìï† Ïãú Îß§Îß§Í∞Ä x 70% > (Ï†ÑÏÑ∏Î≥¥Ï¶ùÍ∏à) + (Í∑ºÏ†ÄÎãπÏï°)Ïùò Ï°∞Í±¥ÏùÑ ÎßåÏ°±ÌïòÎäî ÏßëÏùÑ Ï∞æÏïÑÏïº Ìï©ÎãàÎã§.
`,
    "Ï†ÑÏûÖÏã†Í≥†Î•º ÌïòÎ©¥ Î≥¥Ï¶ùÍ∏àÏóê Ïñ¥Îñ§ Î≤ïÏ†Å Î≥¥Ìò∏Î•º Î∞õÍ≤å ÎêòÎÇòÏöî?": `
‚ÄòÏ†ÑÏûÖÏã†Í≥†‚ÄôÎäî Ï£ºÏÜåÎ•º Î≥ÄÍ≤ΩÌïú Í≤ΩÏö∞, Ìï¥Îãπ ÌñâÏ†ï Íµ¨Ïó≠Ïùò Í¥ÄÎ¶¨ÏûêÏóêÍ≤å Î≥∏Ïù∏Ïùò Ï£ºÏÜå Î≥ÄÍ≤Ω ÏÇ¨Ïã§ÏùÑ ÏïåÎ¶¨Îäî ÌñâÏúÑÏûÖÎãàÎã§.

Ï†ÑÏûÖÏã†Í≥† Ïãú, ‚ÄòÌôïÏ†ïÏùºÏûê‚ÄôÏôÄ ‚ÄòÎåÄÌï≠Î†•‚ÄôÏù¥ Î∞úÏÉùÌï©ÎãàÎã§. ‚ÄòÌôïÏ†ïÏùºÏûê‚ÄôÎäî Ìï¥Îãπ Ï£ºÏÜåÏóê Ïñ∏Ï†úÎ∂ÄÌÑ∞ Í±∞Ï£ºÌñàÎäîÏßÄÎ•º Í≥µÏãùÏ†ÅÏúºÎ°ú Îì±Î°ùÌïòÏó¨ Î™ÖÏãúÌïòÎäî Ï†àÏ∞®ÏûÖÎãàÎã§.

ÎåÄÌï≠Î†•ÏùÄ Ï£ºÌÉùÏùÑ ÏÇ¨Ïö©Ìï† Í∂åÎ¶¨ÏôÄ Î≥¥Ï¶ùÍ∏àÏùÑ ÎèåÎ†§Î∞õÏùÑ Í∂åÎ¶¨Ïù¥Î©∞, Ï†ÑÏûÖÏã†Í≥† Îã§Ïùå ÎÇ† 0ÏãúÎ∂ÄÌÑ∞ Î∞úÏÉùÌï©ÎãàÎã§.

Ï†ÑÏûÖÏã†Í≥†Î•º ÌÜµÌï¥ ÎåÄÌï≠Î†•ÏùÑ Í∞ñÏ∂∞ÏïºÎßå Ï†ÑÏÑ∏ Î≥¥Ï¶ùÍ∏àÏóê ÎåÄÌï¥ Î≤ïÏ†Å Î≥¥Ìò∏Î•º Î∞õÏùÑ Ïàò ÏûàÏäµÎãàÎã§.
`,
    "Ïö∞ÏÑ† Î≥ÄÏ†úÍ∂åÏù¥ÎûÄ Î¨¥ÏóáÏù∏Í∞ÄÏöî?": `
Ïö∞ÏÑ† Î≥ÄÏ†úÍ∂åÏù¥ÎûÄ Î∂ÄÎèôÏÇ∞Ïù¥ Í≤ΩÎß§ÏóêÏÑú ÎÇôÏ∞∞Îê† Îïå ÏûÑÏ∞®Ïù∏Ïùò Í∂åÎ¶¨Í∞Ä Ïö∞ÏÑ†Ï†ÅÏúºÎ°ú Î≥¥Ìò∏ÎêòÎäî Í∂åÎ¶¨ÏûÖÎãàÎã§. Ïù¥ Í∂åÎ¶¨Îäî ÏûÑÏ∞®Ïù∏Ïù¥ Ï†ÑÏûÖÏã†Í≥†Î•º ÌïòÍ≥† ÎåÄÌï≠Î†• Ï∑®ÎìùÍ≥º Ìï®Íªò ÌôïÏ†ïÏùºÏûêÎ•º Î∞õÏïÑÏïº Î∞úÏÉùÌï©ÎãàÎã§. Îã®, ÌôïÏ†ïÏùºÏûêÍ∞Ä Í∑ºÏ†ÄÎãπ ÏÑ§Ï†ïÎ≥¥Îã§ ÏïûÏÑ† Í≤ΩÏö∞ÏóêÎßå Ïö∞ÏÑ† Î≥ÄÏ†úÍ∂åÏù¥ Ï†ÅÏö©Îê©ÎãàÎã§.
`,
    "Ï†ÑÏÑ∏Í∂å ÏÑ§Ï†ïÏùò Ìö®Î†•ÏùÄ Ïñ∏Ï†úÎ∂ÄÌÑ∞ Î∞úÏÉùÌïòÎÇòÏöî?": `
Ï†ÑÏÑ∏Í∂å ÏÑ§Ï†ïÏùò Ìö®Î†•ÏùÄ Ï†ÑÏÑ∏ Í≥ÑÏïΩÏù¥ Ï≤¥Í≤∞Îêú Ï¶âÏãú Î∞úÏÉùÌï©ÎãàÎã§. Ïù¥Îäî ÌôïÏ†ïÏùºÏûêÎÇò Ïö∞ÏÑ†Î≥ÄÏ†úÍ∂åÍ≥º Ïú†ÏÇ¨Ìïú Í∂åÎ¶¨Ïù¥ÏßÄÎßå, ÏùµÏùº 0ÏãúÏóê Ìö®Î†•Ïù¥ Î∞úÌúòÎêòÎäî Í≤ÉÍ≥º Îã¨Î¶¨, Ï†ÑÏÑ∏ Í≥ÑÏïΩÍ≥º ÎèôÏãúÏóê Ìö®Î†•Ïù¥ Î∞úÌúòÎêúÎã§Îäî Ï†êÏóêÏÑú Ï∞®Ïù¥Í∞Ä ÏûàÏäµÎãàÎã§.
`,
    "Ï†ÑÏÑ∏ Î≥¥Ï¶ù Î≥¥ÌóòÏùÄ Ïñ¥Îñ§ ÏÉÅÌô©ÏóêÏÑú Î≥¥Ï¶ùÍ∏àÏùÑ Î≥¥Ìò∏Ìï¥Ï£ºÎÇòÏöî?": `
Ï†ÑÏÑ∏ Î≥¥Ï¶ù Î≥¥ÌóòÏùÄ Î≥¥ÌóòÎ£åÎ•º ÎÇ©Î∂ÄÌïú ÏÑ∏ÏûÖÏûêÍ∞Ä Í±∞Ï£ºÌïòÎäî Î∂ÄÎèôÏÇ∞Ïù¥ Í≤ΩÎß§Ïóê ÎÑòÏñ¥Í∞îÏùÑ Îïå, Ìï¥Îãπ Î≥¥Ìóò Í∏∞Í¥ÄÏù¥ Î≥¥Ïû•ÌïúÎèÑ ÎÇ¥ÏóêÏÑú Ï†ÑÏÑ∏Î≥¥Ï¶ùÍ∏àÏùÑ ÏÑ†ÏßÄÍ∏âÌï¥Ï£ºÎäî Ï†úÎèÑÏûÖÎãàÎã§. Îã§Îßå, Í∑ºÏ†ÄÎãπÏù¥ÎÇò Ïã†ÌÉÅ Îì± Í∂åÎ¶¨Í¥ÄÍ≥ÑÍ∞Ä Î≥µÏû°Ìïú Í≤ΩÏö∞ÏóêÎäî Î¶¨Ïä§ÌÅ¨Í∞Ä ÎÜíÏïÑÏ†∏ Î≥¥Ìóò Í∞ÄÏûÖÏù¥ Í±∞Ï†àÎê† Í∞ÄÎä•ÏÑ±Ïù¥ ÏûàÏäµÎãàÎã§.
`,
  };

  useEffect(() => {
    if (!isGreetingShown) {
      const initialMessage = "ÏïàÎÖïÌïòÏÑ∏Ïöî! Ï†ÄÎäî Ï†ÑÏÑ∏Îã•ÌÑ∞AIÏûÖÎãàÎã§. Ï†ÑÏÑ∏ Í≥ÑÏïΩÏù¥ Í±±Ï†ïÎêòÏãúÎÇòÏöî? Ï†ÑÏÑ∏ ÏÇ¨Í∏∞ ÏòàÎ∞©Î∂ÄÌÑ∞ Îã§ÏñëÌïú ÎèÑÏõÄÏùÑ ÎìúÎ¶¥ Ïàò ÏûàÏñ¥Ïöî. Ï†ÑÏÑ∏ÏôÄ Í¥ÄÎ†®Ìï¥ Í∂ÅÍ∏àÌïú Ï†êÏù¥ ÏûàÏúºÏãúÎ©¥ Ïñ∏Ï†úÎì†ÏßÄ Ìé∏ÌïòÍ≤å Î¨ºÏñ¥Î≥¥ÏÑ∏Ïöî!";
      setCurrentTypingMessage(initialMessage);
      setIsGreetingShown(true);
    }
  }, [isGreetingShown]);

  useEffect(() => {
    if (currentTypingMessage) {
      let index = 0;
      const timer = setInterval(() => {
        if (index < currentTypingMessage.length) {
          setMessages(prev => {
            const newMessages = [...prev];
            if (newMessages.length > 0 && newMessages[newMessages.length - 1].role === 'assistant') {
              newMessages[newMessages.length - 1].content = currentTypingMessage.slice(0, index + 1);
            } else {
              newMessages.push({ role: 'assistant', content: currentTypingMessage.slice(0, index + 1) });
            }
            return newMessages;
          });
          index++;
        } else {
          clearInterval(timer);
          setCurrentTypingMessage('');
          setIsLoading(false);
        }
      }, typingSpeed);

      return () => clearInterval(timer);
    }
  }, [currentTypingMessage]);

  useEffect(() => {
    if (isLoading) {
      const loadingTimer = setInterval(() => {
        setLoadingDots(prev => (prev.length < 3 ? prev + '.' : ''));
      }, 500);

      return () => clearInterval(loadingTimer);
    } else {
      setLoadingDots('');
    }
  }, [isLoading]);

  const handleFileChange = useCallback((event) => {
    const selectedFile = event.target.files[0];
    if (selectedFile) {
      setFile(selectedFile);
      const reader = new FileReader();
      reader.onloadend = () => {
        setPreview(reader.result);
      };
      reader.readAsDataURL(selectedFile);
    }
  }, []);

  const handleSendMessage = async (message) => {
    if (message.trim() === '') return;

    setMessages((prev) => [...prev, { role: 'user', content: message }]);
    setInput('');
    setIsLoading(true);
    setShowExamples(false);
    // Î°úÎî© ÏÉÅÌÉúÎ•º ÎÇòÌÉÄÎÇ¥Îäî Î©îÏãúÏßÄ Ï∂îÍ∞Ä
    setMessages((prev) => [...prev, { role: 'assistant', content: '' }]);

    try {
      const responseMessage = predefinedAnswers[message] || "Ï£ÑÏÜ°Ìï©ÎãàÎã§, Ìï¥Îãπ ÏßàÎ¨∏Ïóê ÎåÄÌïú ÎãµÎ≥ÄÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.";
      setCurrentTypingMessage(responseMessage);
    } catch (error) {
      console.error('Error:', error);
      setCurrentTypingMessage('Ï£ÑÏÜ°Ìï©ÎãàÎã§, Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥ Ï£ºÏÑ∏Ïöî.');
    } finally {
      setFile(null);
      setPreview(null);
    }
  };

  const handleTopicClick = (title) => {
    handleSendMessage(title);
  };

  const handleKeyPress = (e) => {
    if (e.key === 'Enter') {
      handleSendMessage(input);
    }
  };

  return (
    <div className={styles.pageContainer}>
      <header className={styles.header}>
        <h1 className={styles.title}>Ï±óÎ¥á</h1>
      </header>
      <div className={styles.chatContainer}>
        <div className={styles.chatMessages}>
          {messages.map((message, index) => (
            <div key={index} className={`${styles.message} ${message.role === 'user' ? styles.userMessage : styles.assistantMessage}`}>
              {message.role === 'assistant' && <span className={styles.assistantEmoji}>ü§ñ</span>}
              <div className={styles.messageContent}>
                {message.role === 'user' ? (
                  message.content
                ) : (
                  <ReactMarkdown
                    components={{
                      p: ({ children }) => <p className={styles.paragraph}>{children}</p>
                    }}
                  >
                    {message.content || loadingDots}
                  </ReactMarkdown>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>
      <div className={styles.inputWrapper}>
        {showExamples && (
          <>
            <h2 className={styles.sectionTitle}>Í∏∞Î≥∏ÏÇ¨Ìï≠</h2>
            <div className={styles.examplePromptsWrapper}>
              <div className={styles.examplePrompts}>
                {basicTopics.map((title, index) => (
                  <button key={index} onClick={() => handleTopicClick(title)} className={styles.examplePrompt}>
                    {title}
                  </button>
                ))}
              </div>
            </div>
            <h2 className={styles.sectionTitle}>ÎßéÏù¥ Î¨ªÎäî ÏßàÎ¨∏</h2>
            <div className={styles.examplePromptsWrapper}>
              <div className={styles.examplePrompts}>
                {examplePrompts.map((prompt, index) => (
                  <button key={index} onClick={() => handleSendMessage(prompt)} className={styles.examplePrompt}>
                    {prompt}
                  </button>
                ))}
              </div>
            </div>
          </>
        )}
        <div className={styles.inputContainer}>
          <div className={styles.inputWrapperPill}>
            <input
              type="text"
              value={input}
              onChange={(e) => setInput(e.target.value)}
              onKeyPress={handleKeyPress}
              placeholder="Î¨¥ÏóáÏùÑ ÎèÑÏôÄÎìúÎ¶¥ÍπåÏöî?"
              className={styles.inputInsidePill}
            />
            <button
              onClick={() => handleSendMessage(input)}
              className={styles.sendButtonInsidePill}
              disabled={isLoading}
              aria-label="Î©îÏãúÏßÄ Ï†ÑÏÜ°"
            >
              <SendIcon className={styles.sendIconInsidePill} />
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
